# ESP32-S3-R8N16 WiFi Manager

ESP32-S3-R8N16 보드용 동적 WiFi 설정 코드입니다. 웹 인터페이스를 통해 WiFi 자격 증명을 입력하고 저장할 수 있습니다.

## 주요 기능

-   **동적 WiFi 설정**: 하드코딩 없이 웹 인터페이스로 WiFi 설정
-   **자동 연결**: 저장된 WiFi 설정으로 자동 연결
-   **AP 모드**: 설정이 없거나 연결 실패 시 자동으로 액세스 포인트 모드로 전환
-   **설정 초기화**: GPIO 0번 핀을 3초간 눌러 WiFi 설정 초기화
-   **연결 모니터링**: WiFi 연결 상태를 10초마다 체크하고 자동 재연결

## 필요한 라이브러리

Arduino IDE에서 다음 라이브러리를 설치해야 합니다:

1. **WiFiManager** by tzapu
    - Arduino IDE: 스케치 > 라이브러리 포함하기 > 라이브러리 관리... > "WiFiManager" 검색 후 설치

## 사용 방법

### 1. 초기 설정

1. 코드를 ESP32-S3-R8N16 보드에 업로드
2. 시리얼 모니터를 열어 로그 확인 (115200 baud)
3. 보드가 "ESP32-S3-Setup" AP 모드로 전환됨

### 2. WiFi 설정

1. 스마트폰이나 컴퓨터에서 WiFi 목록 확인
2. **"ESP32-S3-Setup"** 네트워크에 연결
    - 비밀번호: `12345678`
3. 자동으로 설정 페이지가 열림 (또는 브라우저에서 `192.168.4.1` 접속)
4. **"Configure WiFi"** 클릭
5. 사용 가능한 WiFi 네트워크 목록에서 선택하거나 수동 입력
6. WiFi 비밀번호 입력 후 **"Save"** 클릭
7. ESP32가 입력한 WiFi에 연결을 시도하고 성공하면 설정이 저장됨

### 3. 정상 작동

WiFi 연결 성공 후:

-   시리얼 모니터에 연결된 WiFi 정보 출력
-   SSID, IP 주소, 신호 세기 표시
-   이후 부팅 시 자동으로 저장된 WiFi에 연결

### 4. WiFi 설정 초기화

WiFi 설정을 초기화하려면:

1. GPIO 0번 핀(BOOT 버튼)을 3초간 누르기
2. 시리얼 모니터에서 초기화 메시지 확인
3. 보드가 재부팅되고 AP 모드로 전환됨

또는 코드에서:

```cpp
wifiManager.resetSettings();
ESP.restart();
```

## 설정 변경

### AP 이름 및 비밀번호 변경

```cpp
const char* AP_NAME = "ESP32-S3-Setup";  // AP 이름 변경
const char* AP_PASSWORD = "12345678";     // AP 비밀번호 변경 (8자 이상)
```

### 타임아웃 변경

```cpp
const int CONFIG_PORTAL_TIMEOUT = 180;  // 초 단위 (기본 180초)
```

### 비밀번호 없는 AP 모드

```cpp
const char* AP_PASSWORD = "";  // 빈 문자열로 설정
```

## 트러블슈팅

### WiFi 연결 실패

1. SSID와 비밀번호가 정확한지 확인
2. WiFi 라우터가 2.4GHz 대역을 지원하는지 확인 (ESP32는 5GHz 미지원)
3. 시리얼 모니터에서 에러 메시지 확인
4. WiFi 설정을 초기화하고 다시 시도

### AP 모드로 전환되지 않음

1. 보드를 재부팅
2. GPIO 0번 핀을 3초간 눌러 설정 초기화
3. 시리얼 모니터에서 로그 확인

### 웹 페이지가 열리지 않음

1. `192.168.4.1`을 직접 브라우저에 입력
2. ESP32-S3-Setup AP에 제대로 연결되었는지 확인
3. 브라우저 캐시 삭제 후 재시도

## 시리얼 모니터 출력 예시

```
=================================
ESP32-S3-R8N16 WiFi Manager
=================================

저장된 WiFi 설정으로 연결 시도 중...

=================================
WiFi 연결 성공!
=================================
SSID: MyHomeWiFi
IP 주소: 192.168.1.100
신호 세기: -45 dBm
=================================
```
